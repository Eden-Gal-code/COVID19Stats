(this.webpackJsonpcoronavirus=this.webpackJsonpcoronavirus||[]).push([[0],{247:function(e,t,a){e.exports=a(451)},252:function(e,t,a){},451:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(12),c=a.n(o),l=(a(252),a(94)),i=a(20),s=a(129),u=a.n(s),m=a(196),d=a(56),p=a.n(d);function g(e){return y.apply(this,arguments)}function y(){return(y=Object(m.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("https://pomber.github.io/covid19/timeseries.json").then((function(e){if(null!==t&&void 0!==t&&"Global"!==t)return e.data[t];for(var a=[],n=0;n<e.data.Israel.length;n++)for(var r in e.data)"Afghanistan"===r?a.push(e.data[r][n]):(a[n].confirmed+=e.data[r][n].confirmed,a[n].deaths+=e.data[r][n].deaths,a[n].recovered+=e.data[r][n].recovered);return a})).catch((function(e){console.error(e)}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var E=a(15);function h(e){if(null===e)return null;for(var t=[],a=0;a<e.length;a++)0===a?t.push(e[a]):t.push({date:e[a].date,confirmed:e[a].confirmed-e[a-1].confirmed,deaths:e[a].deaths-e[a-1].deaths,recovered:e[a].recovered-e[a-1].recovered});return t}function f(e,t,a){for(var n=[],r=0;r<t.length;r++){var o=e[r]?e[r]:{};o[a+"_confirmed"]=t[r].confirmed,o[a+"_deaths"]=t[r].deaths,o[a+"_recovered"]=t[r].recovered,o.date=t[r].date,n.push(o)}return n}var b=a(210),v=a(497),D=a(520),S=a(505),C=a(504),F=a(506),x=a(502),O=a(103),j=a(509),B=a(453),w=a(507),A=a(508),_=a(521),k=a(503),I=a(500),G=a(518),N=Object(v.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:160}}})),R=r.a.memo((function(e){var t=N(),a=Object(n.useState)(sessionStorage.getItem(e.item)),o=Object(E.a)(a,2),c=o[0],l=o[1];return r.a.createElement(i.b.Consumer,null,(function(a){var n=a.store;return r.a.createElement(I.a,{variant:"outlined",className:t.formControl},r.a.createElement(_.a,{id:"demo-simple-select-outlined-label"},"Country"),r.a.createElement(G.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:c,onChange:function(t){l(t.target.value);var a={};a.countries=[t.target.value],a.indexOfData=e.id,g(t.target.value).then((function(t){a.countryData=[t],n.dispatch({type:e.payload,payload:a})})),e.reload&&window.location.reload()},label:"Country"},r.a.createElement(k.a,{value:"Global"},r.a.createElement("em",null,"Global")),e.list.list.map((function(e){return r.a.createElement(k.a,{value:e},e)}))))}))})),W=a(197),z=a.n(W),L=a(4),P=a(198),T=a.n(P),H=a(510),J=a(199),K=a.n(J),M=a(200),V=a.n(M),$=Object(v.a)((function(e){return{root:{position:"relative",flexGrow:1,display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(b.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),ackgroundColor:"#0392D0"},appBarShift:{marginLeft:190,width:"calc(100% - ".concat(190,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:190,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:{transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:1},appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,top:"200vh"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)}}}));function q(e){var t=$(),a=Object(n.useState)(null),o=Object(E.a)(a,2),c=o[0],l=o[1],s=r.a.useState(!1),u=Object(E.a)(s,2),m=u[0],d=u[1],p=Object(n.useState)(1),y=Object(E.a)(p,2),h=y[0],f=y[1],b=function(){d(!0)},v=function(){d(!1)};return r.a.createElement(i.b.Consumer,null,(function(a){var n=a.store;return r.a.createElement("div",{className:t.root},r.a.createElement(C.a,null),r.a.createElement(S.a,{position:"absolute",className:Object(L.a)(t.appBar,m&&t.appBarShift)},r.a.createElement(F.a,{className:t.toolbar},r.a.createElement(w.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:b,className:Object(L.a)(t.menuButton,m&&t.menuButtonHidden)},r.a.createElement(z.a,null)),r.a.createElement(O.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:t.title},"COVID 19 Stats"))),r.a.createElement(D.a,{variant:"permanent",classes:{paper:Object(L.a)(t.drawerPaper,!m&&t.drawerPaperClose)},open:m},r.a.createElement("div",{className:t.toolbarIcon},r.a.createElement(w.a,{onClick:v},r.a.createElement(T.a,null))),r.a.createElement("div",{className:t.drawerContainer},r.a.createElement(x.a,null,["Global Stats","Country Stats","Country Compare"].map((function(e,t){return r.a.createElement(B.a,{button:!0,key:e,onClick:function(){l(e),n.dispatch({type:"Change_Choice",payload:{choice:e}}),"Global Stats"===e&&g("Global").then((function(e){n.dispatch({type:"Select_One_Country",payload:{countries:["Global"],countryData:[e]}})}))}},r.a.createElement(A.a,{primary:e}))}))),r.a.createElement(j.a,null),"Country Stats"===c&&r.a.createElement(x.a,null,r.a.createElement(B.a,null,r.a.createElement(R,{item:"countryDisplay",list:e.list,payload:"Select_One_Country",changeCountry:e.changeCountry}))),"Country Compare"===c&&r.a.createElement(x.a,null,r.a.createElement(B.a,null,r.a.createElement(R,{item:"countryDisplay",list:e.list,payload:"Select_One_Country",id:0})),r.a.createElement(B.a,null,r.a.createElement(R,{item:"secondCountryDisplay",list:e.list,payload:"Add_Country",id:1})),h>=2&&r.a.createElement(B.a,null,r.a.createElement(R,{item:"secondCountryDisplay",list:e.list,payload:"Add_Country",id:2})),h>=3&&r.a.createElement(B.a,null,r.a.createElement(R,{item:"secondCountryDisplay",list:e.list,payload:"Add_Country",id:3})),h>=4&&r.a.createElement(B.a,null,r.a.createElement(R,{item:"secondCountryDisplay",list:e.list,payload:"Add_Country",id:4})),h<4&&r.a.createElement(w.a,{color:"primary",onClick:function(){f(h+1)}},r.a.createElement(K.a,null)),h>1&&r.a.createElement(w.a,{color:"primary",onClick:function(){h===n.getState().countries.length-1&&n.dispatch({type:"Remove_Country"}),f(h-1)}},r.a.createElement(V.a,null))))),r.a.createElement("div",{className:t.content},r.a.createElement("div",{className:t.appBarSpacer}),r.a.createElement(H.a,{className:t.container},e.children)))}))}var Q=a(452),U=Object(v.a)((function(e){return{depositContext:{flex:1},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",textAlign:"center",maxWidth:"200"}}})),X=r.a.memo((function(e){var t=U();return r.a.createElement(r.a.Fragment,null,r.a.createElement(Q.a,{elevation:5,className:t.paper},r.a.createElement(O.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0},e.title),r.a.createElement(O.a,{component:"p",variant:window.innerWidth<500?"h6":"h4"},e.number.toLocaleString()),r.a.createElement(O.a,{color:"textSecondary",className:t.depositContext},e.date)))})),Y=a(517),Z=a(512),ee=a(516),te=a(515),ae=a(511),ne=a(513),re=a(514),oe=Object(v.a)((function(e){return{depositContext:{flex:1},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",textAlign:"center",maxWidth:"200"},table:{minWidth:150,fontSize:12}}})),ce=r.a.memo((function(e){var t=[];e.data.map((function(e){t.push(e[e.length-1])}));var a=Object(n.useState)(t),o=Object(E.a)(a,2),c=o[0],l=o[1],s=Object(n.useState)([e.country]),u=Object(E.a)(s,2),m=u[0],d=u[1],p=oe();return r.a.createElement(i.b.Consumer,null,(function(e){var t=e.store;return t.subscribe((function(){d(t.getState().countries),console.log(c);var e=[];t.getState().countryData.map((function(t){e.push(t[t.length-1])})),l(e),console.log(c),console.log(t.getState().countryData)})),r.a.createElement(r.a.Fragment,null,r.a.createElement(ae.a,{component:Q.a},r.a.createElement(Z.a,{className:p.table,"aria-label":"simple table"},r.a.createElement(ne.a,null,r.a.createElement(re.a,null,r.a.createElement(te.a,null,r.a.createElement(O.a,{component:"p",variant:"subtitle2",color:"primary",gutterBottom:!0},"Countries")),r.a.createElement(te.a,{align:"center"}," ",r.a.createElement(O.a,{component:"p",variant:"subtitle2",color:"primary",gutterBottom:!0},"Confirmed")),r.a.createElement(te.a,{align:"center"}," ",r.a.createElement(O.a,{component:"p",variant:"subtitle2",color:"primary",gutterBottom:!0},"Deaths")),r.a.createElement(te.a,{align:"center"}," ",r.a.createElement(O.a,{component:"p",variant:"subtitle2",color:"primary",gutterBottom:!0},"Recovered")))),r.a.createElement(ee.a,null,c.map((function(e,t){return r.a.createElement(re.a,{key:m[t]},r.a.createElement(te.a,{scope:"row"},r.a.createElement(O.a,{component:"p",variant:"subtitle2",color:"primary",gutterBottom:!0},m[t])),r.a.createElement(te.a,{align:"center"},r.a.createElement(O.a,{component:"p",variant:"subtitle2",gutterBottom:!0},e.confirmed.toLocaleString())),r.a.createElement(te.a,{align:"center"},r.a.createElement(O.a,{component:"p",variant:"subtitle2",gutterBottom:!0},e.deaths.toLocaleString())),r.a.createElement(te.a,{align:"center",padding:""},r.a.createElement(O.a,{component:"p",variant:"subtitle2",gutterBottom:!0},e.recovered.toLocaleString())))}))))))}))})),le=function(e){var t=Object(n.useState)(e.Data[0][e.Data[0].length-1]),a=Object(E.a)(t,2),o=a[0],c=a[1],l=Object(n.useState)(),s=Object(E.a)(l,2),u=s[0],m=s[1];return r.a.createElement(i.b.Consumer,null,(function(t){var a=t.store;return a.subscribe((function(){m(a.getState().countries[0]),Array.isArray(a.getState().countryData[0])?c(a.getState().countryData[0][a.getState().countryData[0].length-1]):a.getState().countryData[0].then((function(e){c(e[e.length-1])}))})),"Country Compare"!==a.getState().choice?r.a.createElement(Y.a,{container:!0,spacing:2},r.a.createElement(Y.a,{item:!0,xs:4},r.a.createElement(X,{title:"Confirmed",number:o?o.confirmed:"loading",date:o?o.date:"loading"})),r.a.createElement(Y.a,{item:!0,xs:4},r.a.createElement(X,{title:"Deaths",number:o?o.deaths:"loading",date:o?o.date:"loading"})),r.a.createElement(Y.a,{item:!0,xs:4},r.a.createElement(X,{title:"Recovered",number:o?o.recovered:"loading",date:o?o.date:"loading"}))):r.a.createElement(ce,{data:e.Data,country:u})}))},ie=a(33),se=["#FF6633","#CC80CC","#66664D","#991AFF","#E666FF","#4DB3FF","#FFB399","#FF33FF","#FFFF99","#00B3E6","#E6B333","#3366E6","#999966","#99FF99","#B34D4D","#80B300","#809900","#E6B3B3","#6680B3","#66991A","#FF99E6","#CCFF1A","#FF1A66","#E6331A","#33FFCC","#66994D","#B366CC","#4D8000","#B33300","#CC80CC","#66664D","#991AFF","#E666FF","#4DB3FF","#1AB399","#E666B3","#33991A","#CC9999","#B3B31A","#00E680","#4D8066","#809980","#E6FF80","#1AFF33","#999933","#FF3380","#CCCC00","#66E64D","#4D80CC","#9900B3","#E64D66","#4DB380","#FF4D4D","#99E6E6","#6666FF"],ue=Object(v.a)((function(e){return{depositContext:{flex:1},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",textAlign:"center",maxWidth:"200"}}}));var me=function(e){var t=Object(n.useState)(f([],e.daily?h(e.Data):e.Data,"Global")),a=Object(E.a)(t,2),o=a[0],c=a[1],l=Object(n.useState)(["Global"]),s=Object(E.a)(l,2),u=s[0],m=s[1],d=function(){var e=Object(n.useState)(0),t=Object(E.a)(e,2),a=(t[0],t[1]);return function(){return a((function(e){return++e}))}}(),p=ue();return r.a.createElement(i.b.Consumer,null,(function(t){var a=t.store;return a.subscribe((function(){m(a.getState().countries);var t=[];if(1===a.getState().countries.length)if(Array.isArray(a.getState().countryData[0])){for(var n=a.getState().countryData,r=0;r<n.length;r++)t=f(t,e.daily?h(n[r]):n[r],a.getState().countries[r]);c(t)}else for(var o=function(n){a.getState().countryData[n].then((function(r){t=f(t,e.daily?h(r):r,a.getState().countries[n]),c(t)}))},l=0;l<a.getState().countryData.length;l++)o(l);else c(e.daily?a.getState().compareDataDay:a.getState().compareDataReg),d()})),r.a.createElement(Q.a,{elevation:3,className:p.paper},r.a.createElement("h2",null,e.label),r.a.createElement(ie.e,{height:300,width:"100%"},r.a.createElement(ie.d,{data:o,height:300,width:370,margin:{top:5,right:30,left:20,bottom:5}},r.a.createElement(ie.a,{strokeDasharray:"3 3"}),r.a.createElement(ie.g,{dataKey:"date"}),r.a.createElement(ie.h,{hide:!0}),r.a.createElement(ie.f,null),r.a.createElement(ie.b,null),u.map((function(t,a){return r.a.createElement(ie.c,{type:"monotone",dataKey:t+"_"+e.type,stroke:se[a+9],dot:!1,strokeWidth:3,name:t})})))))}))};var de=function(e){var t=Object(n.useState)("Global"),a=Object(E.a)(t,2),o=a[0],c=a[1];return r.a.createElement(O.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0},r.a.createElement(i.b.Consumer,null,(function(e){var t=e.store;t.subscribe((function(){c(t.getState().countries[1]?t.getState().choice:t.getState().countries[0])}))})),o)},pe=Object(v.a)((function(e){return{appBar:{zIndex:e.zIndex.drawer+1},drawer:{},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}}));function ge(e,t){var a={};switch(t.type){case"Select_One_Country":return a.countries=t.payload.countries,a.countryData=t.payload.countryData,a.choice=e.choice,a.compareDataReg=f([],a.countryData[0],a.countries[0]),a.compareDataDay=f([],h(a.countryData[0]),a.countries[0]),a;case"Change_Choice":return(a=t.payload).countries=e.countries,a.countryData=e.countryData,a;case"Add_Country":return(a=e).countries[t.payload.indexOfData]=t.payload.countries[0],a.countryData[t.payload.indexOfData]=t.payload.countryData[0],a.compareDataReg=f(e.compareDataReg,t.payload.countryData[0],t.payload.countries[0]),a.compareDataDay=f(e.compareDataDay,h(t.payload.countryData[0]),t.payload.countries[0]),a;case"Remove_Country":var n={};return n.countries=e.countries,n.countries.pop(),n.countryData=e.countryData,n.countryData.pop(),n.compareDataDay=e.compareDataDay,n.compareDataReg=e.compareDataReg,n.choice=e.choice,n;default:return e}}var ye=function(){var e=pe(),t=function(e){var t=Object(n.useState)(null),a=Object(E.a)(t,2),r=a[0],o=a[1];return Object(n.useEffect)((function(){var t=[];p.a.get("https://pomber.github.io/covid19/timeseries.json").then((function(a){if(void 0!==e&&"Global"!==e)o(a.data[e]);else{for(var n=0;n<a.data.Israel.length;n++)for(var r in a.data)"Afghanistan"===r?t.push(a.data[r][n]):(t[n].confirmed+=a.data[r][n].confirmed,t[n].deaths+=a.data[r][n].deaths,t[n].recovered+=a.data[r][n].recovered);o(t)}})).catch((function(e){console.error(e)}))}),[e]),r}("Global"),a=Object(l.b)(ge,{choice:"Global Stats",countries:["Global"],countryData:[t]}),o=function(){var e=Object(n.useState)(null),t=Object(E.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){var e={list:[]};p.a.get("https://pomber.github.io/covid19/timeseries.json").then((function(t){for(var a in t.data)e.list.push(a);r(e)})).catch((function(e){console.error(e)}))}),[]),a}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,{store:a},r.a.createElement(q,{className:e.appBar,list:o},r.a.createElement(Y.a,{container:!0,spacing:2},r.a.createElement(Y.a,{item:!0,xs:12},r.a.createElement(de,null),r.a.createElement(j.a,null)),r.a.createElement(Y.a,{item:!0,xs:12},a.getState().countryData[0]?r.a.createElement(le,{Data:a.getState().countryData}):"Loading")),r.a.createElement("br",null),r.a.createElement(Y.a,{container:!0,spacing:2},r.a.createElement(Y.a,{item:!0,xs:12},r.a.createElement(O.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0},"Overall Stats"),r.a.createElement(j.a,null)),r.a.createElement(Y.a,{item:!0,xs:12,md:6,lg:4},a.getState().countryData[0]?r.a.createElement(me,{Data:a.getState().countryData[0],type:"confirmed",label:"Total Confirmed",stroke:"#FFAE00"}):""),r.a.createElement(Y.a,{item:!0,xs:12,md:6,lg:4},a.getState().countryData[0]?r.a.createElement(me,{Data:a.getState().countryData[0],type:"deaths",Stype:sessionStorage.getItem("secondCountryDisplay")+"_deaths",label:"Total Deaths",stroke:"#FF0000"}):""),r.a.createElement(Y.a,{item:!0,xs:12,md:6,lg:4},a.getState().countryData[0]?r.a.createElement(me,{Data:a.getState().countryData[0],type:"recovered",Stype:sessionStorage.getItem("secondCountryDisplay")+"_recovered",label:"Total Recovered",stroke:"#00FF2A "}):"")),r.a.createElement(Y.a,{container:!0,spacing:2},r.a.createElement(Y.a,{item:!0,xs:12},r.a.createElement(O.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0},"Daily Stats"),r.a.createElement(j.a,null)),r.a.createElement(Y.a,{item:!0,xs:12,md:6,lg:4},a.getState().countryData[0]?r.a.createElement(me,{Data:a.getState().countryData[0],type:"confirmed",Stype:sessionStorage.getItem("secondCountryDisplay")+"_confirmed",daily:!0,label:"Daily Confirmed",stroke:"#FFAE00"}):""),r.a.createElement(Y.a,{item:!0,xs:12,md:6,lg:4},a.getState().countryData[0]?r.a.createElement(me,{Data:a.getState().countryData[0],type:"deaths",Stype:sessionStorage.getItem("secondCountryDisplay")+"_deaths",daily:!0,label:"Daily Deaths",stroke:"#FF0000"}):""),r.a.createElement(Y.a,{item:!0,xs:12,md:6,lg:4},a.getState().countryData[0]?r.a.createElement(me,{Data:a.getState().countryData[0],type:"recovered",Stype:sessionStorage.getItem("secondCountryDisplay")+"_recovered",daily:!0,label:"Daily Recovered",stroke:"#00FF2A "}):"")))))};var Ee=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(ye,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Ee,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[247,1,2]]]);
//# sourceMappingURL=main.8922d22a.chunk.js.map